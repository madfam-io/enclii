---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: switchyard-api
spec:
  replicas: 5
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxSurge: 2
      maxUnavailable: 1
---
# Note: Redis Sentinel (redis-sentinel.yaml) is staged for multi-node HA.
# Single instance uses 1 replica with RWO PVC.
apiVersion: apps/v1
kind: Deployment
metadata:
  name: redis
spec:
  replicas: 1