# Blue runner scale set (primary)
# This is the active scale set during normal operations
# Usage: helm upgrade --install enclii-runners-blue \
#          oci://ghcr.io/actions/actions-runner-controller-charts/gha-runner-scale-set \
#          --namespace arc-runners \
#          --values values-runner-set.yaml \
#          --values values-runner-set-blue.yaml

runnerScaleSetName: "enclii-runners-blue"

# Scale configuration
minRunners: 1
maxRunners: 6

# Blue-specific labels for identification
template:
  metadata:
    labels:
      arc.enclii.dev/color: blue
      arc.enclii.dev/active: "true"
    annotations:
      arc.enclii.dev/deployed-at: ""  # Will be set by Helm
  spec:
    # Target the builder node "The Forge" (foundry-builder-01)
    nodeSelector:
      role: builder
    # Tolerate the builder taint
    tolerations:
      - key: "builder"
        operator: "Equal"
        value: "true"
        effect: "NoSchedule"

# NOTE: Custom PVC volumes removed for now
# ARC's container merge doesn't work properly with custom containers
# Caching will use GitHub Actions cache instead of PVC-based caching
# TODO: Revisit PVC caching when ARC Helm chart improves merge behavior
